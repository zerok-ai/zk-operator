apiVersion: v1
data:
  operator-config.yaml: |
    redis:
      port: 6379
      readTimeout: 20
      dbs:    
        filtered_traces: 1
        scenarios: 2
        traces: 3
        executor_attr: 4
        error_details: 8
        integration_details: 9
        obfuscation_rules: 10
    http:
      port: 8472
      exceptionPath: /exception
    clusterContext:
      path: /i/clusterContext
      cloudAddr: "px.{{ .Values.global.zkcloud.host }}"
      port: 443
    zkcloud:
      host: "api.{{ .Values.global.zkcloud.host }}"
      port: {{ .Values.global.zkcloud.port }}
    configurationSync:
      path: /v1/o/cluster/<clusterid>/configuration
      pollingInterval: 1800
      apiPath: /i/configuration
    scenarioSync:
      path: /v1/o/cluster/<clusterid>/scenario
      pollingInterval: 300
      db: 6
    obfuscationRulesSync:
      path: /v1/o/org/obfuscation/rule/list
      pollingInterval: 300
      db: 10
    integrationSync:
      path: /v1/o/cluster/<clusterid>/integration
      pollingInterval: 300
      db: 9
    executorAttributesSync:
      path: /v1/o/cluster/<clusterid>/executorAttributes
      pollingInterval: 300
      db: 4
    operatorLogin:
      clusterSecretName: cluster-info
      clusterKeyData: clusterKey
      killedKey: killed
      clusterIdKey: clusterId
      clusterKeyNamespace: zk-client
    wspClient:
      host: zk-wsp-client.zk-client.svc.cluster.local
      port: 8987
      path: /request
      destinationHeader: X-PROXY-DESTINATION
    clusterHealthSync:
      path: /v1/o/clustermeta/update
      syncInterval: 10
    logs:
      color: {{ .Values.serviceConfigs.logs.color }}
      level: {{ .Values.serviceConfigs.logs.level }}
kind: ConfigMap
metadata:
  name: zk-operator
  namespace: zk-client