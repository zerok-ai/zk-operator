apiVersion: v1
data:
  operator-config.yaml: |
    redis:
      port: 6379
      readTimeout: 20
      dbs:    
        filtered_traces: 1
        scenarios: 2
        traces: 3
        executor_attr: 4
        pod_details: 7
        error_details: 8
        integration_details: 9
    webhook:
      namespace: zk-client
      service: zk-operator-inject
      name: zk-webhook
      path: /zk-injector
      port: 8473
    http:
      port: 8472
      exceptionPath: /exception
    clusterContext:
      path: /i/clusterContext
      cloudAddr: "px.{{ .Values.global.zkcloud.host }}"
      port: 443
    zkcloud:
      host: "api.{{ .Values.global.zkcloud.host }}"
      port: {{ .Values.global.zkcloud.port }}
    configurationSync:
      path: /v1/o/cluster/<clusterid>/configuration
      pollingInterval: 1800
      apiPath: /i/configuration
    scenarioSync:
      path: /v1/o/cluster/<clusterid>/scenario
      pollingInterval: 300
      db: 6
    integrationSync:
      path: /v1/o/cluster/<clusterid>/integration
      pollingInterval: 300
      db: 9
    executorAttributesSync:
      path: /v1/o/cluster/<clusterid>/executorAttributes
      pollingInterval: 300
      db: 4
    operatorLogin:
      path: /v1/o/auth/login
      clusterSecretName: cluster-info
      clusterKeyData: clusterKey
      apiKeyData: apiKey
      clusterKeyNamespace: zk-client
      maxRetries: 3
    wspClient:
      host: zk-wsp-client.zk-client.svc.cluster.local
      port: 8987
      path: /request
      destinationHeader: X-PROXY-DESTINATION
    initContainer:
      pollingInterval: 120
    instrumentation:
      otelArgument: -javaagent:/opt/zerok/opentelemetry-javaagent-1.27.0.jar -Dotel.javaagent.extensions=/opt/zerok/zk-otel-extension-1.0.jar -Dotel.traces.exporter=zerok
      pollingInterval: 30 #seconds
    logs:
      color: {{ .Values.serviceConfigs.logs.color }}
      level: {{ .Values.serviceConfigs.logs.level }}
kind: ConfigMap
metadata:
  name: zk-operator
  namespace: zk-client